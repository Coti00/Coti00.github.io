<!-- SwiperJS 스타일 추가 (SwiperJS CSS 파일 경로) -->
<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />

<!-- Swiper Container -->
<div class="swiper-container mb-5">
  <!-- Swiper Wrapper: 슬라이드 항목을 감싸는 컨테이너 -->
  <div class="swiper-wrapper">
    <!-- 반복되는 슬라이드 항목 시작 -->
    {{ range .Pages }}
      <div class="swiper-slide">
        {{ $item := .item }}
        {{ $link := $item.RelPermalink }}
        {{ $target := "" }}
        {{ if $item.Params.external_link }}
          {{ $link = $item.Params.external_link }}
          {{ $target = "target=\"_blank\" rel=\"noopener\"" }}
        {{ end }}

        {{ $resource := partial "functions/get_featured_image.html" $item }}
        {{ $anchor := $item.Params.image.focal_point | default "Center" }}

        <a href="{{ $link }}" {{ $target | safeHTMLAttr }} class="mb-5">
          <div class="flex items-start space-x-5 space-y-5 mb-5 bg-gray-100 dark:bg-zinc-800">
            <div class="flex-shrink-0 overflow-hidden w-full" style="height: 150px;">
              {{ with $resource }}
                {{ $image := .Fill (printf "2000x300 %s" $anchor) }}
                {{ if ne $image.MediaType.SubType "gif" }}{{ $image = $image.Process "webp" }}{{ end }}
                <img class="h-full w-full object-cover hover:scale-125 transition duration-500 cursor-pointer" loading="lazy" src="{{ $image.RelPermalink }}" height="150" width="{{ $image.Width }}" alt="{{ $item.Title | plainify }}" style="border-top-left-radius: 15px; border-bottom-left-radius: 15px;">
              {{ end }}
            </div>
            <div class="p-8 w-1/2" style="height: 150px;">
              <div class="uppercase tracking-wide text-md text-black dark:text-white font-semibold" style="font-size: 24px; line-height: 3.5;">
                <span class="bg-gradient-to-r from-primary-200 to-primary-100 bg-[length:0px_10px] bg-left-bottom bg-no-repeat transition-[background-size] duration-500 hover:bg-[length:100%_3px] group-hover:bg-[length:100%_10px] dark:from-primary-800 dark:to-primary-900">
                  {{ $item.Title }}
                </span>
              </div>
            </div>
          </div>
        </a>
      </div>
    {{ end }}
    <!-- 반복되는 슬라이드 항목 끝 -->
  </div>

  <!-- Add Pagination -->
  <div class="swiper-pagination"></div>

  <!-- Add Navigation Buttons -->
  <div class="swiper-button-next"></div>
  <div class="swiper-button-prev"></div>
</div>

<!-- SwiperJS 스크립트 추가 (SwiperJS JS 파일 경로) -->
<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

<!-- Swiper 초기화 스크립트 -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    var swiper = new Swiper('.swiper-container', {
      loop: true,  // 슬라이드 반복
      slidesPerView: 1,  // 한 번에 보여줄 슬라이드 수
      spaceBetween: 10,  // 슬라이드 간 간격
      pagination: {
        el: '.swiper-pagination',
        clickable: true,  // 페이지네이션 클릭 가능 여부
      },
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      autoplay: {
        delay: 3000,  // 슬라이드 자동 전환 시간(ms)
        disableOnInteraction: false,  // 사용자 인터랙션 이후에도 자동 슬라이드 유지
      },
    });
  });
</script>
